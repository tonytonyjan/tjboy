<div class="page-header">
  <h1>
    <div class="btn-group">
      <%= link_to '全部', Topic, class: "btn btn-default btn-lg #{active_class(Topic, match: /^\/$|^\/topics$/, method: :match)}" %>
      <%= link_to display_user(@user) + ' 專屬', [(@user || current_user), Topic], class: "btn btn-default btn-lg #{active_class([current_user, Topic])}" if user_signed_in? %>
      <%= link_to icon_tag(:plus), [:new, @user, :topic], class: 'btn btn-success btn-lg' %>
    </div>
  </h1>
  <p><%= @user ? "小兜蟲只會針對 #{@user.display_name} 做出回應（必須與小兜蟲互加好友）" : "小兜蟲會對所有人做出回應" %></p>
</div>

<%= paginate @topics %>

<table class="table table-striped">
  <thead>
    <tr>
      <%= th_for Topic, :name, :pattern, :user %>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <%= render @topics %>
  </tbody>
</table>

<%= paginate @topics %>